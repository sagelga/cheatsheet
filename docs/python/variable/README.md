# Variable
ตัวแปร (Variable) นั่นก็คือค่าที่สามารถเปลี่ยนแปลงได้ตลอดเวลา และสามารถเรียกดู​ และเอาไปทำอะไรที่น้องอยากทำได้หมดเลย จะเก็บตู้เย็นก็ยังได้ครับ (ถ้าน้องเอาตู้เย็นเข้า Python ได้อ่ะนะ)

น้องจำเป็นที่จะต้องประกาศตัวแปร เพื่อจะไปรับค่าที่น้องกำลังเอาเข้ามา หรือว่าผลลัพท์จากการทำอะไรซักอย่าง หรืออยากเก็บข้อมูลอะไรไว้ตั้งแต่แรก

การประกาศก็เพียงเขียนชื่อตัวแปร และก็ตามด้วยเครื่องหมายเท่ากับ (=) ครับ

โดยตัวแปรนั้นมีหน้าที่จัดเก็บข้อมูลครับ เช่นถ้าพี่บอกว่า
- สีที่พี่ชอบคือสีเขียว
- บ้านพี่อยู่คุมะโมโตะ

หากว่าน้องเขียนเป็นภาษาโค้ด (หรือในที่นี้คือ Python) ก็จะได้แบบนี้ครับ
- `my_favorite_color = "Green"`
- `my_hometown = "Kumamoto"`

ทำให้เวลาพี่ได้ถามว่า "บ้านพี่อยู่ที่ไหน" ก็จะได้คำตอบว่าคุมะโมโตะ

น้องๆที่เคยเขียนโปรแกรมภาษาอืื่น ก็จะเรื่มสงสัยว่า พี่ไม่ต้องไปบอกว่าให้เก็บประเภทข้อมูล (Data Type) อะไรเลยเหรอ พี่มงก็จะตอบว่า **ไม่ต้องครับ**

::: tip สำหรับน้องๆที่เคยเรียนภาษาอื่นๆมาแล้ว
อย่าเพื่งข้าม lecture นี้ไปนะครับ เพราะหลักการเขียนตัวแปรไม่เหมือนกันกับภาษาอื่นๆซะเท่าไหร่ ในด้านของความง่าย อิอิ
:::

## Naming Variable
ตามหลัก [Python Coding Standard (PIP8)](https://www.python.org/dev/peps/pep-0008/) แล้ว ตัวแปรของน้องๆควรที่จะ
- มีตัวอักษรภาษาอังกฤษด้วย ห้ามใช้ตัวเลขหรือตัวอักษรพิเศษ​**อย่างเดียว**
- อธิบายว่าข้อมูลนั้นคืออะไร เช่น `address` ไม่เอา `aaaa` นะครับ
- ใช้ `snake_case` (นั่นก็คือการใช้ตัวอักษรภาษาอังกฤษเป็นตัวเล็กทั้งหมด และใช้ underscore `_`)
- ใช้ตัวแปรชื่อเดียวกันซ้ำ เพราะอาจจะทำให้ข้อมูลซ้อนทับกัน
- ไม่ซ้ำกับ keyword หรือชื่อ method หรือชื่อ function ของ Python หรือ Library ที่น้อง import มาใช้ หรือของที่น้องเขียนเอง

แต่ในตัวเช็คใน EJudge นั้นก็ยังต้องการ
- ความยาวตัวแปรอย่างน้อย 4 ตัวอักษร
- ไม่เอาตัวแปรแบบไม่มีความหมายใดๆ (เช่น `aaaa` หรือ `abcd`)

หากว่าน้องๆไม่ทำตามหลักการดังเกล่า เพื่อนๆ หรือ อาจารย์อาจจะอ่านไม่ออก ทำให้อาจารย์หักคะแนนน้องๆได้นะ

ดังนั้น น้องๆควรที่จะตั้งชื่อให้มีความหมาย และให้เพื่อนๆ หรือคนอื่นๆ เข้าใจความหมาย หรือหน้าที่ของตัวแปร จะได้ทำให้นำไปใช้งานต่อในภายหลังได้ครับ

## Assigning Values to Variable
พี่มงจะใช้ตัวอย่างนี้สำหรับการอธิบายการให้ค่ากับตัวแปรนะครับ

<<< @/docs/HandsOn/Variable/assign-value.py

### Basic value declaration
<<< @/docs/HandsOn/Variable/assign-value.py{1,2,3}

ใน `first_name = "Kumamon"` จึงหมายความว่า ให้เก็บ **คำ** ไว้ที่ตัวแปร `first_name` นั่นเอง<br>
ทำให้พอตัวแปรถูกเรียกใช้งาน ก็จะได้ค่าออกมาเป็น "Kumamon" นั่นเองครับ

ใน `middle_name = 'M'` พี่ได้เลือกใช้ ' เพื่อแสดงถึงความเป็นตัวอักษรอันเดียว แต่ในระดับน้องๆแล้ว จะใช้ `""` หรือ `''` ก็ได้เหมือนกันครับ

เช่นเดียวกันกับ `age` แต่อันนี้แตกต่างกันเพราะว่าเป็นตัวเลข เลยไม่ต้องใช้ `""` ครอบเพื่อบ่งบอกความเป็นตัวอักษร

### Multiple variable declaration
<<< @/docs/HandsOn/Variable/assign-value.py{4}

คือการย่อบรรทัดของการประกาศตัวแปร `main_address = "Kumamoto, Japan"` และ `secondary_address = "Bangkok, Thailand"` นั่นแหละครับ แต่พี่เพียงเอาไปย่อมาเป็นบรรทัดเดียวกันเฉยๆ

พี่ยังแนะนำให้น้องประกาศเก็บตัวแปรทีละบรรทัดนะครับ เดี๋ยวน้องจะงงกัน

### Calculated variable
<<< @/docs/HandsOn/Variable/assign-value.py{5}

คือการเอาตัวแปร `age` มาทำการลบด้วย 70 ก่อน และผลลัพท์ก็จะถูกเอาไปใส่ในตัวแปร `lifespan` ครับ

::: tip ข้อสังเกต
การเขียนภาษา Python นั้น น้องๆไม่จำเป็นที่จะต้องบอกว่าตัวแปรนั้นเป็นประเภทอะไรนะครับ แค่เอาข้อมูลมันมาเก็บ มันก็จะเดาให้เองเลยครับ ว่าเป็นประเภทไหน
:::

## Overriding Variable
หลังจากน้องๆเข้าใจตัวแปรเรียบร้อยแล้ว ก็จะมาเรียนกันว่า ถ้่าอยากเปลี่ยนใจ เปลี่ยนค่าในตัวแปรได้หรือเปล่า

พี้ก็จะขอใช้โค้ดด้านล่าง เพื่ออธิบายหลังการนะครับ

<<< @/docs/HandsOn/Variable/overriding-value.py

## Global & Local Variable
ในภาษา Python และภาษาอื่นๆนั้น มีระดับความสำคัญที่แตกต่างกัน เช่น สำคัญมาก และ สำคัญน้อยกว่า<br>
โดยตัวแปรที่สำคัญมาก ก็จะต้องมีที่เก็บให้เยอะกว่า เพื่อให้แม่นยำมากขึ้น และ รองรับให้คืนผลลัพท์เร็วกว่าอีกแบบหนึ่ง
ในวันนี้ เราจะมาเรียนตัวแปรระดับสำคัญน้อยกว่า หรือที่เรียกในภาษาโปรแกรมมิ่งว่า *Local* กันครับ

โดยตัวแปรแบบนี้นั้น จะสามารถ **เข้าถึงได้เมื่ออยู่ใน Function เดียวกันเท่านั้น**<br>
หากเราทำการตั้งชื่อตัวแปร ชื่อเดียวกันใน Function คนละอันกัน ก็จะไม่เกิด conflict ต่อกัน

พี่จะใช้โค้ดนี้เพื่ออธิบายเรื่อง Locals กับ Globals นะครับ

<<< @/docs/HandsOn/Variable/local-global-variable.py

หากรันโปรแกรมแล้ว ก็จะได้ผลลัพท์ตามนี้ครับ

<<< @/docs/HandsOn/Variable/local-global-variable-result.txt

จะเห็นได้ว่า ในบรรทัดที่ 2, 3, 6, 7

## Check variable values
ถ้าพี่อยากที่จะรู้ว่าตัวแปรไหน มีค่าเท่าไหร่แล้ว น้องๆก็จะตอบกลับมาว่า "ใช้ print() ตัวแปรออกมาสิพี่" มันก็ถูกของน้องอ่ะนะ

แต่วันนี้ พี่ก็จะขอเสนอฟังก์ชั่น (แบบ built-in) ที่ชื่อ `locals()` และ `globals()` ครับ

และเพื่อที่จะให้น้องๆดูได้ว่า ตัวแปรนี้มีค่าเท่ากับเท่าไหร่ ก็สามารถเรียก
- `globals()` เพื่อดูตัวแปรแบบ Global
- `locals()` เพื่อดูตัวแปรแบบ Local

โดยจะโยนผลลัพท์ออกมาเป็นข้อมูลประเภท [Dictionary](/Dictionary/) ครับ

และ `dir()` เพื่อดูว่าในระบบมีตัวแปรอะไรบ้าง <br>(แต่ไม่บอกว่ามีค่าเท่ากับเท่าไหร่นะครับ ต้องใช้ `globals()` หรือ `locals()` เท่านั้นครับ)

วิธีการใช้งานฟังก์ชั่น `globals()` ก็ให้น้องใส่ `globals()` ไปที่จุดที่น้องต้องการดูค่าในตัวแปรครับ เช่น

<<< @/docs/HandsOn/Variable/global-variable.py

พี่ก็จะเอาผลลัพท์ออกมาแผ่ให้น้องดูแล้วกันนะครับ

<<< @/docs/HandsOn/Variable/global-variable-result.txt{9-11}

แต่ที่น้องๆต้องสนใจ อยู่ในบรรทัดที่ 9 ถึง 11 ครับ ซึ่งพี่ได้ highlight ไว้ให้แล้ว

หากน้องๆอ่านไฟล์​ JSON เป็นก็จะเข้าใจเลยเนอะ อิอิ หากไม่เป็นก็ไม่เป็นไรเนอะ<br>
ก็คือ ฝั่งซ้ายคือชื่อตัวแปร และฝั่งขวาคือค่าที่ถูกจัดเก็บครับ

ในตัวอย่างนี้ ค่า `first_name` นั้นมีค่าเท่ากับ `'Kumamon'` ประมาณนี้แหละครับ

ข้อดีของการทำแบบนี้ ทำให้น้องไม่ต้องไป `print()` ตัวแปรให้เหนื่อยครับ เรียกทีเดียว ได้ค่าทั้งหมดเลย

::: tip
เอาไว้ใช้ในกรณีที่น้องทำ debug เท่านั้นนะครับ<br>
ไม่แนะนำว่าให้ไปใช้อันนี้ในการส่งคำตอบหรือว่าเอาไปทำอะไรแปลกๆนะครับ
:::

---

### Terminology
[`Global Variable`][1]
[`Local Variable`][2]
[`Python Keyword`][3]

[1]: example.com
[2]: example.com
[3]: https://www.programiz.com/python-programming/keyword-list